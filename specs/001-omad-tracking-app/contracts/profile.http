### User Profile Endpoints
### Create and manage user baseline metrics (height, starting weight)

@baseUrl = https://localhost:7001
@apiBaseUrl = {{baseUrl}}/api
@userId = google-oauth2|123456789

###
# 1. Get User Profile (US1)
# Retrieve authenticated user's profile
GET {{apiBaseUrl}}/profile
Cookie: .AspNetCore.Identity.Application={session_cookie}
# Returns: 200 OK
# {
#   "userId": "google-oauth2|123456789",
#   "email": "user@gmail.com",
#   "height": "5'10\"",
#   "startingWeight": 180.0,
#   "startDate": "2025-11-22T00:00:00Z"
# }
# Returns: 404 Not Found (if profile doesn't exist â†’ redirect to setup wizard)

###
# 2. Create User Profile (US1 - Setup Wizard)
# First-time setup after Google OAuth authentication
POST {{apiBaseUrl}}/profile
Content-Type: application/json
Cookie: .AspNetCore.Identity.Application={session_cookie}

{
  "height": "5'10\"",
  "startingWeight": 180.0
}
# Returns: 201 Created
# Location: /api/profile
# {
#   "userId": "google-oauth2|123456789",
#   "email": "user@gmail.com",
#   "height": "5'10\"",
#   "startingWeight": 180.0,
#   "startDate": "2025-11-22T14:30:00Z"
# }

###
# 3. Update User Profile (Optional - not in MVP)
# Allow updating height if user made mistake during setup
PUT {{apiBaseUrl}}/profile
Content-Type: application/json
Cookie: .AspNetCore.Identity.Application={session_cookie}

{
  "height": "6'0\"",
  "startingWeight": 180.0
}
# Returns: 200 OK (same response as create)

###
# 4. Validation: Invalid Height
POST {{apiBaseUrl}}/profile
Content-Type: application/json
Cookie: .AspNetCore.Identity.Application={session_cookie}

{
  "height": "9'0\"",
  "startingWeight": 180.0
}
# Returns: 400 Bad Request (RFC 7807 Problem Details)
# {
#   "type": "https://tools.ietf.org/html/rfc7231#section-6.5.1",
#   "title": "Validation Error",
#   "status": 400,
#   "errors": {
#     "Height": ["Height must be between 4'0\" and 8'0\" (or 120-250 cm)"]
#   }
# }

###
# 5. Validation: Invalid Weight
POST {{apiBaseUrl}}/profile
Content-Type: application/json
Cookie: .AspNetCore.Identity.Application={session_cookie}

{
  "height": "5'10\"",
  "startingWeight": 600.0
}
# Returns: 400 Bad Request (RFC 7807 Problem Details)
# {
#   "type": "https://tools.ietf.org/html/rfc7231#section-6.5.1",
#   "title": "Validation Error",
#   "status": 400,
#   "errors": {
#     "StartingWeight": ["Weight must be between 50 and 500 lbs (FR-005)"]
#   }
# }
